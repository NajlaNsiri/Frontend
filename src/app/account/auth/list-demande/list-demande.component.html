<app-client-nav-bar></app-client-nav-bar>
<div id="table-to-pdf" class="card-container">
  <div class="card-header">
    LISTE DES RÃ‰SULTATS (accessible Ã  NYSTAR LANGLOIS)
  </div>
<div class="demande-client-table">
  <!-- Button container for left-aligned buttons -->
  <div class="content-container">
    <div class="button-container">
      
      <button class="table-button download-button" (click)="saveAsPdf()">TÃ©lÃ©charger documents  '''</button>
    </div>
  
    <div class="icon-legend-container">
      <div class="icon-legend">
        <p><span class="icon green">âœ”ï¸</span> Demande d'analyse transmise et en attente d'acceptation</p>
        <p><span class="icon yellow">â—</span> RÃ©sultats partiels</p>
        <p><span class="icon red">âœ–ï¸</span> Ã‰chantillon rejetÃ©</p>
        <p><span class="icon blue">âš ï¸</span> DÃ©passement de norme</p>
      </div>
      <div class="icon-legend">
        <p><span class="icon gray">ğŸ”¬</span> ReÃ§u au laboratoire, en cours d'analyse</p>
        <p><span class="icon green">âœ”ï¸âœ”ï¸</span> RÃ©sultats complÃ©tÃ©s</p>
        <p><span class="icon red">â—â—</span> Non-Potable</p>
      </div>
    </div>
  </div>
  <table>
    <thead>
      <tr>
        <th>ID</th>
          <th>Demande Pour</th>
          <th>EnvoyÃ© Au Laboratoire</th>
          <th>Courriels SupplÃ©mentaires</th>
          <th>Bon De Commande</th>
          <th>Langue Du Certificat</th>
          <th>Commentaires Internes</th>
          <th>etat</th>
          <th>Actions</th>
      <!-- <tr> 
        <th></th>
        
        <th><input type="text" placeholder="Filter Bon de commande" /></th>
        
        <th><input type="text" placeholder="Filter NumÃ©ro d'Ã©chantillon" /></th>
        <th><input type="text" placeholder="Filter Nom de l'Ã©chantillon" /></th>
        <th><input type="text" placeholder="Filter Nom du prÃ©leveur" /></th>
        <th><input type="text" placeholder="Filter Nom du projet" /></th>
        <th><input type="text" placeholder="Filter Type d'Ã©chantillon" /></th>
        <th><input type="text" placeholder="Filter Lieu de prÃ©lÃ¨vement" /></th>
        <th><input type="text" placeholder="Filter Type de prÃ©lÃ¨vement" /></th>
        <th><input type="text" placeholder="Filter Date de fin de prÃ©lÃ¨vement" /></th>
        <th><input type="text" placeholder="Filter Date de derniÃ¨re modification" /></th>
        <th><input type="text" placeholder="Filter Nom du rÃ©seau" /></th>
        <th><input type="text" placeholder="Filter Statut" /></th>
        <th>
          <button class="btn-search">Recherche</button><br>
          <button class="btn-reset">RÃ©initialiser</button>
        </th>
      </tr> -->
        <tr *ngFor="let demande of demandes; let i = index">
          <td>{{ demande.demandeId }}</td>
          <td>{{ demande.demandePour }}</td>
          <td>{{ demande.envoyeAuLaboratoire }}</td>
          <td>{{ demande.courrielsSupplementaires }}</td>
          <td>{{ demande.bonDeCommande }}</td>
          <td>{{ demande.langueDuCertificat }}</td>
          <td>{{ demande.commentairesInternes }}</td>
          <td [ngSwitch]="demande.etat">
            <span *ngSwitchCase="'Demande en attente'">âœ”ï¸ </span>
            <span *ngSwitchCase="'Resultats partiels'">â— </span>
            <span *ngSwitchCase="'Echantillon rejetÃ©'">âœ–ï¸ </span>
            <span *ngSwitchCase="'Depassement de norme'">âš ï¸ </span>
            <span *ngSwitchCase="'En cours d`analyse'">ğŸ”¬ </span>
            <span *ngSwitchCase="'RÃ©sultats complÃ©tÃ©s'">âœ”ï¸ </span>
            <span *ngSwitchCase="'Non-Potable'">â—â— </span>
            <span *ngSwitchDefault>Unknown Status</span>
          </td>
          
          <td>
            <!-- Buttons for actions such as edit, delete, etc. -->
            <button class="btn-edit" (click)="details(demande.demandeId)">Details</button>
          </td>
      </tr>
    </thead>
    <tbody>
      <!-- Sample row -->
      <!-- <tr *ngFor="let demande of demandes; let i = index">
        <td>{{ demande.demandeId }}</td>
        <td>{{ demande.demandePour }}</td>
        <td>{{ demande.envoyeAuLaboratoire }}</td>
        <td>{{ demande.courrielsSupplementaires }}</td>
        <td>{{ demande.bonDeCommande }}</td>
        <td>{{ demande.langueDuCertificat }}</td>
        <td>{{ demande.commentairesInternes }}</td>
        <td> -->
          <!-- Buttons for actions such as edit, delete, etc. -->
          <!-- <button class="btn-edit">Modifier</button>
          <button class="btn-delete">Supprimer</button>
        </td>
      </tr> -->
    </tbody>
  </table>
</div>

</div>